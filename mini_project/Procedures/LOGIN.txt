CREATE OR REPLACE PROCEDURE LOGIN(P_LOGID USER_LOGIN.LOG_ID%TYPE,P_LOG_PASS USER_LOGIN.LOG_PASS%TYPE) IS						  
	CURSOR CUR_USER_LOGIN IS SELECT * FROM USER_LOGIN;
	CURSOR CUR_RES_DETAILS IS SELECT * FROM RESTAURANT;
	FLAG USER_LOGIN%ROWTYPE;
BEGIN
	SELECT * INTO FLAG FROM USER_LOGIN WHERE LOG_ID=P_LOGID AND LOG_PASS=P_LOG_PASS;
	IF SQL%FOUND THEN
		DBMS_OUTPUT.PUT_LINE('LOGGED IN');
		FOR RES IN CUR_RES_DETAILS LOOP
			DBMS_OUTPUT.PUT_LINE(RES.RES_ID||'--'||
								RPAD(RES.RES_NAME,30)||'--'||
								RES.RES_CONTACT_NO||'--'||
								RPAD(RES.RES_DETAILS,30)||'--'||
								RES.RES_RATING);
		END LOOP;
		DBMS_OUTPUT.PUT_LINE('TO SELECT A RESTAURANT WRITE: ');
		DBMS_OUTPUT.PUT_LINE('EXEC SHOW_MENU(<RES_ID>)');
	END IF;	
	
EXCEPTION 
	WHEN NO_DATA_FOUND THEN
		DBMS_OUTPUT.PUT_LINE('USERNAME/PASSWORD WRONG');
END;